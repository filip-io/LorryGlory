@*
    Menu view when a driver logs in, later admin will be here to with a cookie check for different view ? maybe.
*@
@model IEnumerable<LorryGlory_Frontend_MVC.ViewModels.VehicleJobTaskViewModel>
@{
    ViewData["Title"] = "Menu";
}

<div class="flex flex-col items-center min-h-screen bg-gray-100 p-4">

    <div class="text-center mt-4 mb-6">
        <div class="flex justify-center mb-2">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-10 w-10 text-gray-800">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
            </svg>
        </div>

        <h2 class="text-lg font-semibold text-gray-700">Welcome</h2>
        <p class="text-gray-600">John</p>
    </div>

    <div class="space-y-4 w-full">
        <button class="w-full py-3 text-center bg-gray-200 rounded-lg text-gray-800 font-semibold">
            Current Vehicle
        </button>

    <div class="bg-white shadow-md rounded-lg p-4 w-full max-w-md mx-auto">
        <h2 class="text-lg font-semibold text-gray-700 mb-4 text-center">Your Vehicles Today</h2>

        @if (Model != null && Model.Any())
        {
            <ul class="space-y-4">
                @foreach (var task in Model)
                {                   
                    
                        var isActive = DateTime.Now >= task.StartTime && DateTime.Now <= task.EndTime;

                        // its all fine and dandy but the button is not clickable, so we need to add a click event to it.

                        // also we need to set some kind of cap, if there is more then 2 trucks, then add a scroll bar to the list. OR just a text saying more then 2 trucks under the list.
                    <li>
                        <button
                            class="w-full py-3 text-center rounded-lg font-semibold border-2 @(isActive ? "bg-blue-500 text-white" : "bg-gray-500 text-black")">
                            @task.StartTime.ToString("HH:mm") - @task.EndTime.ToString("HH:mm")
                            <br />
                            @task.RegNo
                        </button>
                    </li>
                }
            </ul>
        }
        else
        {
            <p class="text-gray-600 text-center">No tasks available.</p>
        }
    </div>

        <button class="w-full py-3 text-center bg-gray-200 rounded-lg text-gray-800 font-semibold">
            Today's Tasks
        </button>
        <button class="w-full py-3 text-center bg-gray-200 rounded-lg text-gray-800 font-semibold">
            Time Report
        </button>
        <button class="w-full py-3 text-center bg-gray-200 rounded-lg text-gray-800 font-semibold">
            Schedule
        </button>
        <button class="w-full py-3 text-center bg-gray-200 rounded-lg text-gray-800 font-semibold">
            Information
        </button>
    </div>
</div>

